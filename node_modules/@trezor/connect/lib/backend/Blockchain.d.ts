import BlockchainLink, { ServerInfo, SubscriptionAccountInfo, BlockchainLinkParams, BlockchainLinkResponse } from '@trezor/blockchain-link';
import { CoreEventMessage } from '../events';
import { ERRORS } from '../constants';
import type { CoinInfo, Proxy } from '../types';
export type BlockchainOptions = {
    coinInfo: CoinInfo;
    postMessage: (message: CoreEventMessage) => void;
    proxy?: Proxy;
    debug?: boolean;
    onDisconnected?: (pendingSubscriptions?: boolean) => void;
};
export declare class Blockchain {
    link: BlockchainLink;
    serverInfo?: ServerInfo;
    coinInfo: BlockchainOptions['coinInfo'];
    postMessage: BlockchainOptions['postMessage'];
    feeForBlock: BlockchainLinkResponse<'estimateFee'>;
    feeTimestamp: number;
    private onDisconnected;
    private initPromise?;
    constructor(options: BlockchainOptions);
    onError(error: ERRORS.TrezorError): void;
    private initLink;
    init(): Promise<ServerInfo>;
    getTransactions(txs: string[]): Promise<import("@trezor/blockchain-link").Transaction[]>;
    getTransactionHexes(txids: string[]): Promise<string[]>;
    getCurrentFiatRates(params: {
        currencies?: string[];
        token?: string;
    }): Promise<{
        ts: number;
        rates: import("@trezor/blockchain-link").FiatRatesLegacy;
    }>;
    getFiatRatesForTimestamps(params: {
        currencies?: string[];
        timestamps: number[];
        token?: string;
    }): Promise<{
        tickers: {
            ts: number;
            rates: import("@trezor/blockchain-link").FiatRatesLegacy;
        }[];
    }>;
    getAccountBalanceHistory(params: BlockchainLinkParams<'getAccountBalanceHistory'>): Promise<import("@trezor/blockchain-link").AccountBalanceHistory[]>;
    getNetworkInfo(): Promise<ServerInfo>;
    getAccountInfo(request: BlockchainLinkParams<'getAccountInfo'>): Promise<import("@trezor/blockchain-link").AccountInfo>;
    getAccountUtxo(descriptor: string): Promise<import("@trezor/blockchain-link").Utxo[]>;
    estimateFee(request: Parameters<typeof this.link.estimateFee>[0]): Promise<{
        feePerUnit: string;
        feePerTx?: string | undefined;
        feeLimit?: string | undefined;
    }[]>;
    subscribe(accounts?: SubscriptionAccountInfo[]): Promise<{
        subscribed: boolean;
    }>;
    subscribeFiatRates(_currency?: string): Promise<{
        subscribed: boolean;
    }>;
    unsubscribe(accounts?: SubscriptionAccountInfo[]): Promise<{
        subscribed: boolean;
    }>;
    unsubscribeFiatRates(): Promise<{
        subscribed: boolean;
    }>;
    pushTransaction(tx: string): Promise<string>;
    disconnect(): void;
}
//# sourceMappingURL=Blockchain.d.ts.map